(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{my:()=>s,TF:()=>a,BN:()=>d,f:()=>r});class t{constructor(e,t){this.name=e,this.color=t}}class n{constructor(e,t,n,a="Inbox"){this.name=e,this.description=t,this.dueDateString=n,this.groupName=a}}let a=[],o=[new n("Call Mum","Make a call to Mum telling her about stuff.","2022-11-03","School"),new n("Buy protein powder","Buy the 500g Nestle protein powder that's on a discount.","2022-11-04","Grocery"),new n("Drink a glass of water","Hydration is important!","2022-11-27"),new n("Play video games","Time for some fun!","2022-11-04")];function l(e){let t=document.querySelector(".groups"),n=document.createElement("div");n.classList.add("group-item"),n.classList.add("custom"),t.appendChild(n);let a=document.createElement("input");a.classList.add("custom-group-name"),a.type="text",a.value=e.name,a.maxLength="8",a.spellcheck=!1,a.autocomplete="off",n.appendChild(a);let o=document.createElement("input");o.type="color",o.classList.add("color-tag"),o.value=e.color,n.appendChild(o);let l=document.createElement("img");l.src="assets/trash.svg",l.alt="trash icon",n.appendChild(l)}function r(){let e=document.querySelector("#down-arrow-button"),t=document.querySelector(".groups");e.classList.contains("collapsed")?(e.classList.remove("collapsed"),t.classList.remove("collapsed")):(e.classList.add("collapsed"),t.classList.add("collapsed"))}function s(){let e=document.querySelector("#down-arrow-button"),n=document.querySelector(".groups"),o=new t("Untitled","#000000");a.push(o),l(o),e.classList.remove("collapsed"),n.classList.remove("collapsed"),n.lastChild.firstChild.focus()}function d(e){o.forEach((t=>{t.groupName===a[e].name&&(t.groupName="Inbox")}));let t=document.querySelector(".groups");t.removeChild(t.children[e+1]),a.splice(e,1)}!function(){let e=document.querySelector("body"),n=document.createElement("nav");e.appendChild(n);let o=document.createElement("h1");o.textContent="To Do",n.appendChild(o);let r=document.createElement("div");r.classList.add("groups-wrapper"),n.appendChild(r);let s=document.createElement("div");s.classList.add("groups-heading"),r.appendChild(s);let d=document.createElement("p");d.textContent="Groups",s.appendChild(d);let c=document.createElement("div");c.classList.add("groups-heading-buttons"),s.appendChild(c);let i=document.createElement("img");i.src="assets/down-arrow.svg",i.alt="down arrow",i.id="down-arrow-button",i.classList.add("collapsed"),c.appendChild(i);let u=document.createElement("img");u.src="assets/plus.svg",u.alt="plus",u.id="plus-button",c.appendChild(u);let p=document.createElement("div");p.classList.add("groups"),p.classList.add("collapsed"),r.appendChild(p);let m=document.createElement("div");m.classList.add("group-item"),m.id="inbox",p.appendChild(m);let g=document.createElement("p");g.textContent="Inbox",m.appendChild(g),a.push(new t("School","#FF0000")),a.push(new t("Grocery","#00FF00")),a.push(new t("Hospital","#0000FF")),a.push(new t("Games","#FFFF00")),a.forEach((e=>{l(e)}))}(),function(e){let t=document.querySelector("body"),n=document.createElement("main");t.appendChild(n);let a=document.createElement("h2");a.id="current-group-name",a.textContent=e;let l=document.createElement("div");l.classList.add("task-section"),n.appendChild(l),function(e){let t=document.querySelector(".task-section"),n=new Map;o.forEach((e=>{let t=e.dueDateString;new Date(t).getDate()<new Date(Date.now()).getDate()&&(t="Overdue"),n.has(t)?n.get(t).push(e):n.set(t,[e])})),console.log("Dates Map:",n),n.forEach(((e,n)=>{let a="Overdue";if("Overdue"!==n){let e=new Date(n);a=e.toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),new Date(Date.now()).getDate()===e.getDate()&&(a="Today - "+a)}let o=document.createElement("div");o.classList.add("task-content"),t.appendChild(o);let l=document.createElement("h3");l.classList.add("date-header"),l.textContent=a,o.appendChild(l);let r=document.createElement("button");r.textContent="Add a new task",o.appendChild(r)}))}()}("Inbox"),function(){let e=document.querySelector(".groups-wrapper"),t=document.querySelector(".groups"),n="";e.addEventListener("click",(e=>{"down-arrow-button"===e.target.id&&r(),"plus-button"===e.target.id&&s(),"IMG"===e.target.tagName&&e.target.closest(".group-item")&&d(Array.from(t.children).slice(1).indexOf(e.target.parentElement))})),e.addEventListener("change",(e=>{if(e.target.classList.contains("color-tag")){let t=e.target.parentElement,n=document.querySelector(".groups"),o=Array.from(n.children).indexOf(t)-1;a[o].color=e.target.value,console.log(a)}}),!0),e.addEventListener("focus",(e=>{e.target.classList.contains("custom-group-name")&&(n=e.target.value)}),!0),e.addEventListener("blur",(e=>{if(e.target.classList.contains("custom-group-name")){let t=e.target.value;if(t===n)return;if(""===t)return void(e.target.value=n);for(let o=0;o<a.length;o++)if(a[o].name===t)return void(e.target.value=n);let o=e.target.parentElement,l=document.querySelector(".groups"),r=Array.from(l.children).indexOf(o)-1;a[r].name=t}}),!0)}()})();
(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{p1:()=>l,my:()=>c,QW:()=>u,TF:()=>a,BN:()=>s,pG:()=>o,f:()=>d});class t{constructor(e,t){this.name=e,this.color=t}}class n{constructor(e,t,n,a="Inbox"){this.name=e,this.description=t,this.dueDateString=n,this.groupName=a}}let a=[],o=[new n("Call Mum","Make a call to Mum telling her about stuff.","2022-11-03","School"),new n("Buy protein powder","Buy the 500g Nestle protein powder that's on a discount.","2022-11-04","Grocery"),new n("Drink a glass of water","Hydration is important!","2022-11-27"),new n("Play video games","Time for some fun!","2022-11-04")],l="Inbox";function r(e){let t=document.querySelector(".groups"),n=document.createElement("div");n.classList.add("group-item"),n.classList.add("custom"),t.appendChild(n);let a=document.createElement("input");a.classList.add("custom-group-name"),a.type="text",a.value=e.name,a.maxLength="8",a.spellcheck=!1,a.autocomplete="off",n.appendChild(a);let o=document.createElement("input");o.type="color",o.classList.add("color-tag"),o.value=e.color,n.appendChild(o);let l=document.createElement("img");l.src="assets/trash.svg",l.alt="trash icon",n.appendChild(l)}function d(){let e=document.querySelector("#down-arrow-button"),t=document.querySelector(".groups");e.classList.contains("collapsed")?(e.classList.remove("collapsed"),t.classList.remove("collapsed")):(e.classList.add("collapsed"),t.classList.add("collapsed"))}function c(){let e=document.querySelector("#down-arrow-button"),n=document.querySelector(".groups"),o=new t("Untitled","#000000");a.push(o),r(o),e.classList.remove("collapsed"),n.classList.remove("collapsed"),n.lastChild.firstChild.focus()}function s(e){o.forEach((t=>{t.groupName===a[e].name&&(t.groupName="Inbox")}));let t=document.querySelector(".groups");t.removeChild(t.children[e+1]),a.splice(e,1)}function u(e){let t=document.querySelector("body"),n=document.createElement("main");t.appendChild(n);let l=document.createElement("h2");l.id="current-group-name",l.textContent=e,n.appendChild(l);let r=document.createElement("div");r.classList.add("task-section"),n.appendChild(r),function(e){let t=document.querySelector(".task-section"),n=new Map;o.forEach((t=>{if("Inbox"!==e&&t.groupName!==e)return;let a=t.dueDateString;new Date(a).getDate()<new Date(Date.now()).getDate()&&(a="Overdue"),n.has(a)?n.get(a).push(t):n.set(a,[t])})),console.log("Dates Map:",n);let l=0;n.forEach(((e,n)=>{let o="Overdue";if("Overdue"!==n){let e=new Date(n);o=e.toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),new Date(Date.now()).getDate()===e.getDate()&&(o="Today - "+o)}let r=document.createElement("div");r.classList.add("task-content"),t.appendChild(r);let d=document.createElement("h3");d.classList.add("date-header"),d.textContent=o,r.appendChild(d),function(e,t){let n=document.querySelectorAll(".task-content")[e],o=document.createElement("div");o.classList.add("tasks"),n.appendChild(o),t.forEach((e=>{let t=document.createElement("div");t.classList.add("task"),o.appendChild(t);let n=document.createElement("input");n.type="checkbox",t.appendChild(n);let l=document.createElement("p");if(l.textContent=e.name,t.appendChild(l),"Inbox"!==e.groupName){let n=document.createElement("div");n.classList.add("group-tag"),a.forEach((t=>{t.name!==e.groupName||(n.style.backgroundColor=t.color)})),t.appendChild(n);let o=document.createElement("p");o.textContent=e.groupName,n.appendChild(o)}}))}(l,e),l++;let c=document.createElement("button");c.textContent="Add a new task",r.appendChild(c)}))}(e)}!function(){let e=document.querySelector("body"),n=document.createElement("nav");e.appendChild(n);let o=document.createElement("h1");o.textContent="To Do",n.appendChild(o);let l=document.createElement("div");l.classList.add("groups-wrapper"),n.appendChild(l);let d=document.createElement("div");d.classList.add("groups-heading"),l.appendChild(d);let c=document.createElement("p");c.textContent="Groups",d.appendChild(c);let s=document.createElement("div");s.classList.add("groups-heading-buttons"),d.appendChild(s);let u=document.createElement("img");u.src="assets/down-arrow.svg",u.alt="down arrow",u.id="down-arrow-button",u.classList.add("collapsed"),s.appendChild(u);let i=document.createElement("img");i.src="assets/plus.svg",i.alt="plus",i.id="plus-button",s.appendChild(i);let p=document.createElement("div");p.classList.add("groups"),p.classList.add("collapsed"),l.appendChild(p);let m=document.createElement("div");m.classList.add("group-item"),m.id="inbox",p.appendChild(m);let g=document.createElement("p");g.textContent="Inbox",m.appendChild(g),a.push(new t("School","#FF0000")),a.push(new t("Grocery","#00FF00")),a.push(new t("Hospital","#0000FF")),a.push(new t("Games","#FFFF00")),a.forEach((e=>{r(e)}))}(),u("Inbox"),function(){let e=document.querySelector(".groups-wrapper"),t=document.querySelector(".groups"),n="";e.addEventListener("click",(e=>{if("down-arrow-button"===e.target.id&&d(),"plus-button"===e.target.id&&c(),"IMG"===e.target.tagName&&e.target.closest(".group-item")){s(Array.from(t.children).slice(1).indexOf(e.target.parentElement));let n=document.querySelector("main");null!=n&&n.remove(),u(l)}})),e.addEventListener("change",(e=>{if(e.target.classList.contains("color-tag")){let t=e.target.parentElement,n=document.querySelector(".groups"),o=Array.from(n.children).indexOf(t)-1;a[o].color=e.target.value;let r=document.querySelector("main");null!=r&&r.remove(),u(l)}}),!0),e.addEventListener("focus",(e=>{e.target.classList.contains("custom-group-name")&&(n=e.target.value)}),!0),e.addEventListener("blur",(e=>{if(e.target.classList.contains("custom-group-name")){let t=e.target.value;if(t===n)return;if(""===t)return void(e.target.value=n);for(let o=0;o<a.length;o++)if(a[o].name===t)return void(e.target.value=n);let r=e.target.parentElement,d=document.querySelector(".groups"),c=Array.from(d.children).indexOf(r)-1;a[c].name=t,o.forEach((e=>{e.groupName===n&&(e.groupName=t)}));let s=document.querySelector("main");null!=s&&s.remove(),u(l)}}),!0)}()})();